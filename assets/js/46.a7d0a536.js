(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{546:function(t,n,e){"use strict";e.r(n);var a=e(6),i=Object(a.a)({},(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h3",{attrs:{id:"第一部分-准备工作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第一部分-准备工作"}},[t._v("#")]),t._v(" 第一部分：准备工作.")]),t._v(" "),e("ol",[e("li",[t._v("首先是下载软件。")])]),t._v(" "),e("ul",[e("li",[t._v("Nginx官网下载："),e("a",{attrs:{href:"http://nginx.org/en/download.html"}},[t._v("Nginx")])]),t._v(" "),e("li",[t._v("PHP73下载地址："),e("a",{attrs:{href:"http://www.php.net/downloads.php"}},[t._v("PHP")])]),t._v(" "),e("li",[t._v("Mysql下载地址："),e("a",{attrs:{href:"http://www.mysql.com/downloads/mysql/"}},[t._v("Mysql")])])]),t._v(" "),e("ol",{attrs:{start:"2"}},[e("li",[e("p",[t._v("安装mysql软件。")])]),t._v(" "),e("li",[e("p",[t._v("解压Nginx和PHP到你自己安装位置。这里我在D盘新建一个文件夹：WNMP把下面的软件安装到这个文件夹里面。\nNginx目录D:\\WNMP\\nginx\nPHP目录D:\\WNMP\\php73\n###第二部分：安装nginx")])]),t._v(" "),e("li",[e("p",[t._v("打开D:\\nginx目录，运行该文件夹下的nginx.exe")])]),t._v(" "),e("li",[e("p",[t._v('测试是否启动nginx。打开浏览器访问http://localhost 或 http://127.0.0.1，看看是否出现“Welcome to nginx!”，出现的证明已经启动成功了。没有启动的话，看看80端口有占用没。\n注意：该网站的默认目录在"D:\\WNMP\\nginx\\html"下')])])]),t._v(" "),e("h3",{attrs:{id:"第三部分-安装php-这里主要讲nginx配置启动php-以cgi运行php"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第三部分-安装php-这里主要讲nginx配置启动php-以cgi运行php"}},[t._v("#")]),t._v(" 第三部分：安装php（这里主要讲nginx配置启动php，以cgi运行php）")]),t._v(" "),e("p",[t._v("nginx配置文件是conf文件夹里的nginx.conf")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("    location /{\n        root   html;\n        index  index.html index.htm;\n    }\n")])])]),e("p",[t._v("修改为")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("     location / {\n        root   D:\\WNMP/nginx/html;\n        index  index.php index.html index.htm;\n    }\n")])])]),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("    location ~ \\.php$ {\n        root           html;\n        fastcgi_pass   127.0.0.1:9000;\n        fastcgi_index  index.php;\n        fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;\n        include        fastcgi_params;\n    }\n")])])]),e("p",[t._v("修改为")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("    location ~ \\.php$ {\n        root          D:\\WNMP/nginx/html;\n        fastcgi_pass   127.0.0.1:9000;\n        fastcgi_index  index.php;\n        fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;\n        include        fastcgi_params;\n    }\n")])])]),e("ul",[e("li",[t._v("D:\\wnmp\\php73\\ext下修改php.ini-development文件，将文件名修改为php.ini，打开php配置文件php.ini，保存即可。")]),t._v(" "),e("li",[t._v('搜索“extension_dir”，找到： extension_dir = "ext" 先去前面的分号再改为 extension_dir = "D:\\WNMP\\php73\\ext"')]),t._v(" "),e("li",[t._v("搜索“date.timezone”，找到：;date.timezone = 先去前面的分号再改为 date.timezone = Asia/Shanghai")]),t._v(" "),e("li",[t._v("搜索“enable_dl”，找到：enable_dl = Off 改为 enable_dl = On")]),t._v(" "),e("li",[t._v("搜索“cgi.force_redirect” ;cgi.force_redirect = 1 先去前面的分号再改为 cgi.force_redirect = 0")]),t._v(" "),e("li",[t._v("搜索“fastcgi.impersonate”，找到： ;fastcgi.impersonate = 1 去掉前面的分号")]),t._v(" "),e("li",[t._v("搜索“cgi.rfc2616_headers”，找到：;cgi.rfc2616_headers = 0 先去前面的分号再改为 cgi.rfc2616_headers = 1")])]),t._v(" "),e("p",{staticStyle:{color:"blue"}},[t._v("其他的配置请按照自己的需求更改。")]),t._v(" "),e("h3",{attrs:{id:"第三部分试运行以及编辑运行配置文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第三部分试运行以及编辑运行配置文件"}},[t._v("#")]),t._v(" 第三部分试运行以及编辑运行配置文件")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("    D:\n    cd WNMP\\php73\n    php-cgi.exe -b 127.0.0.1:9000-c D:\\WNMP\\php73\\php.ini\n")])])]),e("p",[t._v("D:\\WNMP\\nginx\\html下新建一个index.php，")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("<?php phpinfo(); ?>\n")])])]),e("ul",[e("li",[t._v("访问http://localhost/phpinfo.php\n出现如下的信息就说明php已经成功安装:")])]),t._v(" "),e("ul",[e("li",[t._v("开启php-cgi和nginx.exe，保存为start.bat (自己写的，你们可以自己优化下，我测试了能用就没管了)")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("echo Starting nginx...\nD:\ncd WNMP\\nginx\nnginx -s reopen\nD:\\WNMP\\php73\\php-cgi.exe -b 127.0.0.1:9000-c D:\\WNMP\\php73\\php.ini\nexit\n")])])]),e("ul",[e("li",[t._v("停止php-cgi和nginx.exe，保存为stop.bat")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("@echo off\necho Stopping nginx...\ntaskkill /F /IM nginx.exe > nul\necho Stopping PHP FastCGI...\ntaskkill /F /IM php-cgi.exe > nul\nexit\n")])])])])}),[],!1,null,null,null);n.default=i.exports}}]);